<!-- Cargar template proyecto -->
{% extends 'templatePublicTenant.html' %}
{% load staticfiles %}


<!-- Pagina inicial -->
{% block head %}
{% if reporte|length > 0%}
<script>
    $(document).ready(function(){
    $('#tabla1').dataTable( {
    "language": {
                "url": "{%static 'datatables/Spanish.json' %}"
            }
    } );
})
</script>
 <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Dinosaur', 'Length'],
          ['Acrocanthosaurus (top-spined lizard)', 12.2],
          ['Albertosaurus (Alberta lizard)', 9.1],
          ['Allosaurus (other lizard)', 12.2],
          ['Apatosaurus (deceptive lizard)', 22.9],
          ['Archaeopteryx (ancient wing)', 0.9],
          ['Argentinosaurus (Argentina lizard)', 36.6],
          ['Baryonyx (heavy claws)', 9.1],
          ['Brachiosaurus (arm lizard)', 30.5],
          ['Ceratosaurus (horned lizard)', 6.1],
          ['Coelophysis (hollow form)', 2.7],
          ['Compsognathus (elegant jaw)', 0.9],
          ['Deinonychus (terrible claw)', 2.7],
          ['Diplodocus (double beam)', 27.1],
          ['Dromicelomimus (emu mimic)', 3.4],
          ['Gallimimus (fowl mimic)', 5.5],
          ['Mamenchisaurus (Mamenchi lizard)', 21.0],
          ['Megalosaurus (big lizard)', 7.9],
          ['Microvenator (small hunter)', 1.2],
          ['Ornithomimus (bird mimic)', 4.6],
          ['Oviraptor (egg robber)', 1.5],
          ['Plateosaurus (flat lizard)', 7.9],
          ['Sauronithoides (narrow-clawed lizard)', 2.0],
          ['Seismosaurus (tremor lizard)', 45.7],
          ['Spinosaurus (spiny lizard)', 12.2],
          ['Supersaurus (super lizard)', 30.5],
          ['Tyrannosaurus (tyrant lizard)', 15.2],
          ['Ultrasaurus (ultra lizard)', 30.5],
          ['Velociraptor (swift robber)', 1.8]]);

        var options = {
          title: 'Lengths of dinosaurs, in meters',
          legend: { position: 'none' },
        };

        var chart = new google.visualization.Histogram(document.getElementById('chart_div'));
        chart.draw(data, options);
      }
    </script>


{%endif %}
<style>
    #bloquePropaganda{
    display: none;
    }
</style>
{% endblock %}
{% block content %}
<h1>Reportes por productos</h1>

<h2>Reportes gráficos</h2>

<h3>Producción total por fruta</h3>
{{reportesGenerados.reporteTotalNombre.items}}
{%for k,v in reportesGenerados.reporteTotalNombre %}
    {{k}} : {{v}} <br/>
{%endfor%}

<div id="chart_div" class="img-thumbnail" style="width: 900px; height: 500px;"></div>

<h3>Producción por altura (msnm)</h3>

{%for k,v in reportesGenerados.reporteTotalAltura %}
    {{k}} : {{v}} <br/>
{%endfor%}
<br/>
<h3>Producción por temperatura</h3>
{{reportesGenerados.reporteTotalTemporatura}}

<h2>Reporte detallado</h2>
<p>A continuación les mostramos los productos que se tienen y el sitio donde debe accederlos</p>

<h3>Lista de frutas por producto</h3>


{% if reporte|length > 0%}
<table id="tabla1" class="table" class="display" border="1" cellspacing="0" width="100%">
    <thead>
    <th>Nombre</th>
    <th>Variedad</th>
    <th>Area de cultivo</th>
    <th>Producción mensual</th>
    <th>Tipo terreno</th>
    <th>Altura Producción</th>
    <th>Temperatura Producción</th>
    <th>Imagen </th>
    <th>Enlace Productor</th>
    </thead>
    <tbody>
    {% for rep in reporte %}

        {%for item in rep.info %}
        <tr>
            <td>{{item.fields.nombre}}</td>
            <td>{{item.fields.variedad}}</td>
            <td>{{item.fields.areacultivo}}</td>
            <td>{{item.fields.produccionmes}}</td>
            <td>{{item.fields.tipoterreno}}</td>
            <td>{{item.fields.msnm}}</td>
            <td>{{item.fields.temperatura}}</td>
            <td> <p style="text-align:center"><img src="http://{{rep.url}}/media/{{item.fields.imagen}}" alt="Imagen fruta" height="150px" width="150px" class="img-thumbnail"/></p></td>
            <td> <a href="http://{{rep.url}}" target="_blank" class="img-thumbnail">{{rep.url}}</a></td>
        </tr>
        {%endfor %}
    {% endfor %}
    </tbody>
</table>
<br/>
<br/>
{%else%}
<h4>Aviso:</h4> Usted no tiene frutas registradas.
{%endif %}

{% endblock content %}

{% block activo4 %}
class="active"
{% endblock %}